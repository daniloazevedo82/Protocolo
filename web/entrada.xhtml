<html lang="pt-br" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
	
	<h:head>
		<title>Cadastro de Etapas</title>
	</h:head>
	<h:body onload="#{cadastroEtapa.prepararNovo()}">
		<h:form id="mainForm">
		
			<ui:insert name="menu">
				<ui:include src="/index.xhtml" />
			</ui:insert>
		
			<!-- panel PARA ABRIR O CADASTRO E EDIÇÃO DE ETAPA -->
			<p:panel id="modalCriarEditar" widgetVar="cadastro">
				<p:fieldset legend="Cadastro de etapa">
				<h:panelGrid columns="4" cellpadding="8">
					<p:outputLabel for="nome" value="* Nome: "/>
					<p:inputText id="nome" value="#{cadastroEtapa.etapa.nome}" style="width: 400px;" required="true"
								 requiredMessage="O campo Nome é obrigatório."/>
					<p:message for="nome" /><h:panelGrid></h:panelGrid>
					
					<p:outputLabel for="tipoProcesso" value="* Tipo de processo: "/>
					<p:selectOneMenu id="tipoProcesso" value="#{cadastroEtapa.etapa.tipoProcesso}" style="width: 300px" required="true" 
									 requiredMessage="O campo Tipo de processo é obrigatório.">
						<f:selectItem itemLabel="Escolha um tipo de processo" itemValue=""/>
						<f:selectItems value="#{cadastroEtapa.listaTipoProcesso}"/>
					</p:selectOneMenu>
					<p:message for="tipoProcesso" /><h:panelGrid></h:panelGrid>
					
					<p:outputLabel for="setor" value="* Setor: "/>
					<p:selectOneMenu id="setor" value="#{cadastroEtapa.etapa.setor}" style="width: 300px" required="true"
									 requiredMessage="O campo Setor é obrigatório.">
						<f:selectItem itemLabel="Escolha um setor" itemValue=""/>
						<f:selectItems value="#{cadastroEtapa.listaSetor}"/>
					</p:selectOneMenu>
					<p:message for="setor" /><h:panelGrid></h:panelGrid>
					
					<p:outputLabel for="nrSequencia" value="* Sequência: "/>
					<p:spinner id="nrSequencia" size="2" min="0" max="99" value="#{cadastroEtapa.etapa.nrSequencia}" required="true"
							   requiredMessage="O campo 'Sequência' é obrigatório."/>
					<p:message for="nrSequencia" /><h:panelGrid></h:panelGrid>
					
					<p:outputLabel for="permiteAnexo" value="* Permite anexo?"/>
					<p:selectOneRadio id="permiteAnexo" value="#{cadastroEtapa.etapa.permiteAnexo}" required="true"
									  requiredMessage="O campo Permite anexo? é obrigatório.">
						<f:selectItem itemLabel="Sim" itemValue="true"/>
						<f:selectItem itemLabel="Não" itemValue="false"/>
					</p:selectOneRadio>
					<p:message for="permiteAnexo" /><h:panelGrid></h:panelGrid>
					
					<p:outputLabel for="temParecer" value="* Tem parecer?"/>
					<p:selectOneRadio id="temParecer" value="#{cadastroEtapa.etapa.temParecer}" required="true"
									  requiredMessage="O campo Tem parecer? é obrigatório.">
						<f:selectItem itemLabel="Sim" itemValue="true"/>
						<f:selectItem itemLabel="Não" itemValue="false"/>
					</p:selectOneRadio>
					<p:message for="temParecer" /><h:panelGrid></h:panelGrid>
				</h:panelGrid>
				</p:fieldset>
				<br/>
				<div align="left"><h:outputText value="* Campos obrigatórios"/></div>
				<div align="right">
					<p:commandButton value="Salvar" action="#{cadastroEtapa.salvarEditarEtapa()}" update=":mainForm"
									 onclick="PF('cadastro').hide()" icon="ui-icon-disk" process=":mainForm"/>
					&#160;&#160;
					<p:commandButton value="Cancelar" process="@this" icon="ui-icon-cancel" action="#{cadastroEtapa.logar()}"/>
				</div>
			</p:panel>
		</h:form>
	</h:body>
	<script type="text/javascript">
		$(document).ready(function() {
		});
	</script>
</html>